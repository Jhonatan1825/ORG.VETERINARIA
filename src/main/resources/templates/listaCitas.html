<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Listado de Citas</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/index.css}">
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4 text-center">Listado de Citas</h2>

        <table class="table table-striped table-bordered">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Cliente</th>
                    <th>Mascota</th>
                    <th>Veterinario</th>
                    <th>Servicio</th>
                    <th>Motivo</th>
                    <th>Fecha y Hora</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="cita : ${citas}">
                    <td th:text="${cita.id_cita}"></td>
                    <td th:text="${cita.cliente.nombre} + ' ' + ${cita.cliente.apellido}"></td>
                    <td th:text="${cita.mascota.nombre}"></td>
                    <td th:text="${cita.veterinario.nombre}"></td>
                    <td th:text="${cita.servicio.nombre_servicio}"></td>
                    <td th:text="${cita.motivo}"></td>
                    <td th:text="${#dates.format(cita.fecha, 'yyyy-MM-dd HH:mm')}"></td>
                </tr>
                <tr th:if="${#lists.isEmpty(citas)}">
                    <td colspan="7" class="text-center">No hay citas registradas.</td>
                </tr>
            </tbody>
        </table>

        <div class="d-flex justify-content-center">
            <a href="/bienvenido" class="btn btn-secondary">
                <i class="fas fa-arrow-left me-2"></i> Volver 
            </a>
        </div>
    </div>

    <!-- Scripts opcionales -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
</html>
